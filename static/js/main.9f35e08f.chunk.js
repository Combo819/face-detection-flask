(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{194:function(e,t,a){e.exports=a(419)},199:function(e,t,a){},200:function(e,t,a){},419:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(7),o=a.n(s),i=(a(199),a(19)),l=a(20),c=a(23),u=a(21),m=a(22),p=(a(200),a(10)),d=a(428),h=a(429),g=a(427),f=a(432),y=a(433),b=a(422),E=a(426),v=a(9),O=a(48),w=a(425),j=a(25),x=a(421),k=a(191),C=Object(k.a)(),S=a(67),V=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={formatNotif:!1,formatContent:{wrongACC:"mistake account or password"},inputValue:{username:"",password:""}},a.usernameOn=a.usernameOn.bind(Object(p.a)(Object(p.a)(a))),a.passwordOn=a.passwordOn.bind(Object(p.a)(Object(p.a)(a))),a.signIn=a.signIn.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"toRegister",value:function(e){e.preventDefault(),C.push("/registerpage")}},{key:"signIn",value:function(e){var t=this;if(this.state.inputValue.username&&this.state.inputValue.password){var a=new FormData;a.append("username",this.state.inputValue.username),a.append("password",this.state.inputValue.password),S({url:"http://47.94.197.249:80/home",method:"POST",data:a,withCredentials:!0}).then(function(e){if(e.data.login){var a={avatarSrc:e.data.avaSrc,username:e.data.name,dropdownDisable:!1};t.props.setProfile(a),h.a.success("Welcome Back"),C.push("/mainpage")}else h.a.error("Wrong username or password")}).catch(function(e){console.log(e)})}else h.a.error("you must type in both useranme and password")}},{key:"usernameOn",value:function(e){var t=e.target.value;this.setState(function(e){return{inputValue:Object(O.a)({},e.inputValue,{username:t})}})}},{key:"passwordOn",value:function(e){var t=e.target.value;this.setState(function(e){return{inputValue:Object(O.a)({},e.inputValue,{password:t})}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(f.a,null,r.a.createElement("span",{style:{fontSize:30}},"Welcome to Face Detection")),r.a.createElement(f.a,{style:{padding:"30px 0px"}},this.state.formatNotif&&r.a.createElement(f.a,{type:"flex",justify:"center",style:{marginTop:"45px"}},r.a.createElement("h3",{style:{color:"red"}},this.state.formatContent.wrongAcc)),r.a.createElement(f.a,{type:"flex",justify:"center",style:{marginTop:"45px"}},r.a.createElement(y.a,{style:{fontSize:20,textAlign:"right",paddingRight:"30px"},span:4},"Username:"),r.a.createElement(y.a,{span:6},r.a.createElement(w.a,{allowClear:!0,value:this.state.inputValue.username,onChange:function(t){return e.usernameOn(t)},placeholder:"6-12 Characters, _, A-z,0-9"}))),r.a.createElement(f.a,{type:"flex",justify:"center",style:{marginTop:"45px"}},r.a.createElement(y.a,{style:{fontSize:20,textAlign:"right",paddingRight:"30px"},span:4},"Password:"),r.a.createElement(y.a,{span:6},r.a.createElement(w.a.Password,{allowClear:!0,value:this.state.inputValue.password,onChange:function(t){return e.passwordOn(t)},placeholder:"6-12 Characters"}))),r.a.createElement(f.a,{type:"flex",justify:"center",style:{marginTop:"45px"}},r.a.createElement(y.a,{span:6},r.a.createElement(j.a,{onClick:function(t){return e.signIn(t)},type:"primary",size:"large"},"sign in"))),r.a.createElement(f.a,{type:"flex",justify:"center",style:{marginTop:"45px"}},r.a.createElement(y.a,{span:18},r.a.createElement(x.a,null,"Don't have an account?"))),r.a.createElement(f.a,{type:"flex",justify:"center",style:{marginTop:"45px"}},r.a.createElement(y.a,{span:6},r.a.createElement(j.a,{onClick:function(t){return e.toRegister(t)},size:"large"},"sign up")))))}}]),t}(r.a.Component);h.a.config({top:80,duration:3,maxCount:1});var T=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={formatNotif:!1,formatContent:{currentShown:"",userLength:"The length of username must be between 6 to 12",inconsist:"Password and confirm password are not consistent",passwordLength:"The length of password must be between 6 to 12"},inputValue:{username:"",password:"",coPassword:""}},a.usernameOn=a.usernameOn.bind(Object(p.a)(Object(p.a)(a))),a.passwordOn=a.passwordOn.bind(Object(p.a)(Object(p.a)(a))),a.coPasswordOn=a.coPasswordOn.bind(Object(p.a)(Object(p.a)(a))),a.signUP=a.signUP.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"toLogin",value:function(e){e.preventDefault(),C.push("/homepage")}},{key:"signUP",value:function(e){this.state.inputValue.username.length>16||this.state.inputValue.username.length<6?h.a.error(this.state.formatContent.userLength):this.state.inputValue.password.length>16||this.state.inputValue.password.length<6?h.a.error(this.state.formatContent.passwordLength):this.state.inputValue.password!==this.state.inputValue.coPassword?h.a.error(this.state.formatContent.inconsist):this.setState({formatNotif:!1})}},{key:"usernameOn",value:function(e){var t=e.target.value;this.setState(function(e){return{inputValue:Object(O.a)({},e.inputValue,{username:t})}})}},{key:"passwordOn",value:function(e){var t=e.target.value;this.setState(function(e){return{inputValue:Object(O.a)({},e.inputValue,{password:t})}})}},{key:"coPasswordOn",value:function(e){var t=e.target.value;this.setState(function(e){return{inputValue:Object(O.a)({},e.inputValue,{coPassword:t})}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(f.a,null,r.a.createElement("span",{style:{fontSize:30}},"Sign up for an account")),r.a.createElement(f.a,{style:{padding:"30px 0px"}},this.state.formatNotif&&r.a.createElement(f.a,{type:"flex",justify:"center",style:{marginTop:"45px"}},r.a.createElement("h3",{style:{color:"red"}},this.state.formatContent.currentShown)),r.a.createElement(f.a,{type:"flex",justify:"center",style:{marginTop:"45px"}},r.a.createElement(y.a,{style:{fontSize:20,textAlign:"right",paddingRight:"30px"},span:4},"Username:"),r.a.createElement(y.a,{span:6},r.a.createElement(w.a,{value:this.state.inputValue.username,onChange:function(t){return e.usernameOn(t)},allowClear:!0,placeholder:"6-12 Characters, _, A-z,0-9"}))),r.a.createElement(f.a,{type:"flex",justify:"center",style:{marginTop:"45px"}},r.a.createElement(y.a,{style:{fontSize:20,textAlign:"right",paddingRight:"30px"},span:4},"Password:"),r.a.createElement(y.a,{span:6},r.a.createElement(w.a.Password,{value:this.state.inputValue.password,onChange:function(t){return e.passwordOn(t)},allowClear:!0,placeholder:"6-12 Characters"}))),r.a.createElement(f.a,{type:"flex",justify:"center",style:{marginTop:"45px"}},r.a.createElement(y.a,{style:{fontSize:20,textAlign:"right",paddingRight:"30px"},span:4},"Confirm Password:"),r.a.createElement(y.a,{span:6},r.a.createElement(w.a.Password,{value:this.state.inputValue.coPassword,onChange:function(t){return e.coPasswordOn(t)},allowClear:!0,placeholder:"6-12 Characters"}))),r.a.createElement(f.a,{type:"flex",justify:"center",style:{marginTop:"45px"}},r.a.createElement(y.a,{span:6},r.a.createElement(j.a,{onClick:function(t){return e.signUP(t)},type:"primary",size:"large"},"sign up"))),r.a.createElement(f.a,{type:"flex",justify:"center",style:{marginTop:"45px"}},r.a.createElement(y.a,{span:18},r.a.createElement(x.a,null,"Already have an account?"))),r.a.createElement(f.a,{type:"flex",justify:"center",style:{marginTop:"45px"}},r.a.createElement(y.a,{span:6},r.a.createElement(j.a,{onClick:function(t){return e.toLogin(t)},size:"large"},"sign in")))))}}]),t}(r.a.Component),D=a(423),N=a(92),P=a(88),M=a.n(P),z={transitionDuration:0},A={background:".my-bg-image-el"},L=(n.Component,a(183)),I=a.n(L),U=a(424),B={transitionDuration:0},R=a(67),W={background:".my-bg-image-el"},F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={images:[],tracks:[],hasMoreItems:!0,loadTimes:0,beforeUrl:"",afterUrl:"",uploadTime:"",compareVisible:!1},a.loadFunc=a.loadFunc.bind(Object(p.a)(Object(p.a)(a))),a.picCompare=a.picCompare.bind(Object(p.a)(Object(p.a)(a))),a.setModal2Visible=a.setModal2Visible.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this;R({url:"http://47.94.197.249:80/loadimage",method:"get",withCredentials:!0}).then(function(t){console.log(t.data.images.length),t.data.images.length?(e.props.setNoData(!1),e.setState({images:t.data.images})):e.props.setNoData(!0)}).catch(function(t){console.log(t),h.a.error("Error Network"),e.props.setNoData(!0)})}},{key:"picCompare",value:function(e,t,a,n){var r=this;this.setState({beforeUrl:t,afterUrl:a,uploadTime:e},function(){r.setState({compareVisible:!0})})}},{key:"setModal2Visible",value:function(e){this.setState({compareVisible:e})}},{key:"loadFunc",value:function(){if(this.state.images.length){var e=this.state.tracks,t=6*this.state.loadTimes<this.state.images.length;console.log("this.state.images",this.state.images),this.state.images.slice(5*this.state.loadTimes,t?5*this.state.loadTimes+5:this.state.images.length).map(function(t){e.push(t)}),this.setState({tracks:e,hasMoreItems:t,loadTimes:this.state.loadTimes+1})}}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",{className:"loader"},"Loading ..."),a=[];return this.state.tracks.map(function(t,n){a.push(r.a.createElement("div",{style:{width:"300px",border:"1px solid black",margin:"5px"},className:"track",key:n},r.a.createElement("h2",null,t.uploadTime),r.a.createElement("img",{onClick:function(a){return e.picCompare(t.uploadTime,t.beforeUrl,t.afterUrl,a)},src:t.thumbnail,width:"300"})))}),r.a.createElement("div",null,r.a.createElement(U.a,{title:"upload:"+this.state.uploadTime,centered:!0,visible:this.state.compareVisible,footer:null,onOk:function(){return e.setModal2Visible(!1)},onCancel:function(){return e.setModal2Visible(!1)},width:1e3},r.a.createElement(f.a,{type:"flex",justify:"center"},r.a.createElement(y.a,{style:{position:"relative"},lg:12},r.a.createElement("h2",{style:{textAlign:"center"}},"Before"),r.a.createElement("img",{style:{position:"relative",left:"50%",marginLeft:"-200px"},width:400,src:this.state.beforeUrl})),r.a.createElement(y.a,{style:{position:"relative"},lg:12},r.a.createElement("h2",{style:{textAlign:"center"}},"After"),r.a.createElement("img",{style:{position:"relative",left:"50%",marginLeft:"-200px"},width:400,src:this.state.afterUrl})))),r.a.createElement(I.a,{pageStart:0,loadMore:this.loadFunc,hasMore:this.state.hasMoreItems,loader:t,threshold:20},r.a.createElement("div",{className:"tracks"},r.a.createElement(M.a,{className:"my-gallery-class",elementType:"ul",options:B,disableImagesLoaded:!1,updateOnEachImageLoad:!1,imagesLoadedOptions:W},a))))}}]),t}(n.Component),H=D.a.Dragger,G=a(67),J={name:"file",multiple:!1,action:"http://47.94.197.249:80/upload",onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?h.a.success("".concat(e.file.name," file uploaded successfully.")):"error"===t&&h.a.error("".concat(e.file.name," file upload failed."))}},_=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={noData:!1,marginBottom:"30px"},a.setNoData=a.setNoData.bind(Object(p.a)(Object(p.a)(a))),a.uploadMargin=a.uploadMargin.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){G({url:"http://47.94.197.249:80/main",method:"get",withCredentials:!0}).then(function(e){console.log("res.data",e.data),e.data.login?h.a.success("Welcome Back"):C.push("/homepage")}).catch(function(e){console.log(e)})}},{key:"setNoData",value:function(e){console.log("noData",e),this.setState({noData:e})}},{key:"uploadMargin",value:function(e){var t=20*e.length+30+"px";this.setState({marginBottom:t})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(f.a,{type:"flex",justify:"center",style:{marginTop:"30px",marginBottom:this.state.marginBottom}},r.a.createElement(y.a,{lg:8},r.a.createElement(H,Object.assign({beforeUpload:function(t,a){return e.uploadMargin(a)}},J),r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(v.a,{type:"inbox"})),r.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload"),r.a.createElement("p",{className:"ant-upload-hint"},"Only .jpg, .png, jpeg, .bmp supported. Maximum size: 4MB")))),r.a.createElement(f.a,{type:"flex",justify:"center"},r.a.createElement(y.a,{lg:18},r.a.createElement(x.a,null,r.a.createElement("h2",null,"Your Gallry")))),this.state.noData?r.a.createElement(f.a,{type:"flex",justify:"center",style:{marginTop:"35px"}},r.a.createElement(y.a,null,r.a.createElement(N.a,{description:r.a.createElement("span",null,"No Data")}))):r.a.createElement(F,{setNoData:this.setNoData}))}}]),t}(r.a.Component),K=a(431),Y=a(430),$=d.a.Header,q=d.a.Content,Q=d.a.Footer,X=a(67),Z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={avatarSrc:"",username:"",dropdownDisable:!0},a.logoutItem=a.logoutItem.bind(Object(p.a)(Object(p.a)(a))),a.setProfile=a.setProfile.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;X({url:"http://47.94.197.249:80/home",method:"get",withCredentials:!0}).then(function(t){console.log("welcome res",t),t.data.login?(e.setState(function(e){return{avatarSrc:t.data.avaSrc,username:t.data.name,dropdownDisable:!1}}),h.a.success("Welcome Back"),C.push("/mainpage")):C.push("/homepage")}).catch(function(e){console.log(e),C.push("/homepage"),h.a.error("Error Network")})}},{key:"setProfile",value:function(e){this.setState(function(t){return e})}},{key:"logoutItem",value:function(e){var t=this;X({url:"http://47.94.197.249:80/logout",method:"get",withCredentials:!0}).then(function(e){console.log(e),e.data.logout?(t.setState(function(e){return{avatarSrc:"",username:"",dropdownDisable:!0}}),h.a.success("Account Logged Out"),C.push("/homepage")):h.a.error("Error")}).catch(function(e){console.log(e),h.a.error("Error Network")})}},{key:"render",value:function(){var e=this,t=r.a.createElement(g.a,null,r.a.createElement(g.a.Item,{onClick:function(t){return e.logoutItem(t)},disabled:this.state.dropdownDisable},"log out"));return r.a.createElement("div",{style:{backgroundColor:"rgba(240,242,245)"}},r.a.createElement(d.a,{className:"layout ",style:{minHeight:820}},r.a.createElement($,{style:{backgroundColor:"#fff",boxShadow:"1px 1px 15px grey"}},r.a.createElement(f.a,{type:"flex",justify:"space-between"},r.a.createElement(y.a,{span:4},r.a.createElement("span",{style:{fontSize:30}},"LOGO")),r.a.createElement(y.a,{lg:6},this.state.avatarSrc?r.a.createElement(b.a,{size:48,src:this.state.avatarSrc,style:{marginRight:"20px",marginBottom:"8px"}}):r.a.createElement(b.a,{size:48,icon:"user",style:{marginRight:"20px",marginBottom:"8px"}}),r.a.createElement(E.a,{overlay:t},r.a.createElement("span",{style:{fontSize:22}},this.state.username||"Not Login"," ",r.a.createElement(v.a,{type:"down"})))))),r.a.createElement(q,{style:{padding:"50px 50px"}},r.a.createElement("div",{style:{background:"#fff",padding:24,minHeight:280}},r.a.createElement(K.a,{history:C},r.a.createElement("div",null,r.a.createElement(Y.a,{exact:!0,path:"/homepage",render:function(t){return r.a.createElement(V,Object.assign({},t,{setProfile:e.setProfile}))}}),r.a.createElement(Y.a,{path:"/registerpage",component:T}),r.a.createElement(Y.a,{path:"/mainpage",component:_}))))),r.a.createElement(Q,{style:{textAlign:"center"}},"Face Detection \xa92019 Created by Kang")))}}]),t}(r.a.Component),ee=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Z,{subtitle:"face detection"}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[194,1,2]]]);
//# sourceMappingURL=main.9f35e08f.chunk.js.map